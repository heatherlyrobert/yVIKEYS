#!/usr/local/bin/koios
#   koios-polos (north star) -- customized c unit testing meta-program and mini-language
#   program under test  : yVIKEYS_mode
#   auto-generated script file converted from a previous script version
#   updated to the most recent version (v21)



#23456789-12  123  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  -  123456789-123456789- 
#==(verb)===  ver  ===========(description)===========  =====(function)===========  ========================(arguments)===================================  ==(test)==  ==========================(results)=================================================================  t  ========(var)======= 
PREP          v21  include the prototype headers                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
   incl       v21  include public header                yVIKEYS.h                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
   incl       v21  include private header               yVIKEYS_priv.h              - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  



#23456789-12  123  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  -  123456789-123456789- 
#==(verb)===  ver  ===========(description)===========  =====(function)===========  ========================(arguments)===================================  ==(test)==  ==========================(results)=================================================================  t  ========(var)======= 
SCRP          v21  (gyges_keys) verify basic functioning of mode stack                MODE_enter, MODE_return, MODE_curr, MODE_prev, MODE_not, MODE_status    ((01.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       v21  initialize testing                                                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     v21  setup the program                    BASE__unit_quiet                                                                                    i_equal     0                                                                                                    

   COND       v21  check initial modes                                                - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     v21  check the current mode               MODE_curr                                                                                           i_equal     MODE_MAP                                                                                             
     exec     v21  check the previous mode              MODE_prev                                                                                           i_lesser    0                                                                                                    
     get      v21  check current mode stack             MODE__unit                  "stack"                                                                 s_equal     MODE stack       : modes (1) M - - - - - - -                                                         
     exec     v21  test against a mode                  MODE_not                    MODE_MAP                                                                i_equal     0                                                                                                    
     exec     v21  test against a mode                  MODE_not                    MODE_SOURCE                                                             i_lesser    0                                                                                                    
     exec     v21  test against a mode                  MODE_not                    SMOD_SELECT                                                             i_lesser    0                                                                                                    
     exec     v21  test against a mode                  MODE_not                    SMOD_TEXTREG                                                            i_lesser    0                                                                                                    

   COND       v21  push a mode                                                        - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     v21  enter a mode                         MODE_enter                  MODE_SOURCE                                                             i_equal     0                                                                                                    
     exec     v21  check the current mode               MODE_curr                                                                                           i_equal     MODE_SOURCE                                                                                          
     exec     v21  check the previous mode              MODE_prev                                                                                           i_equal     MODE_MAP                                                                                             
     get      v21  check current mode stack             MODE__unit                  "stack"                                                                 s_equal     MODE stack       : modes (2) M S - - - - - -                                                         
     exec     v21  test against a mode                  MODE_not                    MODE_MAP                                                                i_lesser    0                                                                                                    
     exec     v21  test against a mode                  MODE_not                    MODE_SOURCE                                                             i_equal     0                                                                                                    
     exec     v21  test against a mode                  MODE_not                    SMOD_SELECT                                                             i_lesser    0                                                                                                    
     exec     v21  test against a mode                  MODE_not                    SMOD_TEXTREG                                                            i_lesser    0                                                                                                    

   COND       v21  pop a mode                                                         - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.004))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     v21  exit a mode                          MODE_exit                                                                                           i_equal     0                                                                                                    
     exec     v21  check the current mode               MODE_curr                                                                                           i_equal     MODE_MAP                                                                                             
     exec     v21  check the previous mode              MODE_prev                                                                                           i_lesser    0                                                                                                    
     get      v21  check current mode stack             MODE__unit                  "stack"                                                                 s_equal     MODE stack       : modes (1) M - - - - - - -                                                         
     exec     v21  test against a mode                  MODE_not                    MODE_MAP                                                                i_equal     0                                                                                                    
     exec     v21  test against a mode                  MODE_not                    MODE_SOURCE                                                             i_lesser    0                                                                                                    
     exec     v21  test against a mode                  MODE_not                    SMOD_SELECT                                                             i_lesser    0                                                                                                    
     exec     v21  test against a mode                  MODE_not                    SMOD_TEXTREG                                                            i_lesser    0                                                                                                    

   COND       v21  push the same mode, again                                          - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.005))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     v21  enter a mode                         MODE_enter                  MODE_SOURCE                                                             i_equal     0                                                                                                    
     exec     v21  check the current mode               MODE_curr                                                                                           i_equal     MODE_SOURCE                                                                                          
     exec     v21  check the previous mode              MODE_prev                                                                                           i_equal     MODE_MAP                                                                                             
     get      v21  check current mode stack             MODE__unit                  "stack"                                                                 s_equal     MODE stack       : modes (2) M S - - - - - -                                                         
     exec     v21  test against a mode                  MODE_not                    MODE_MAP                                                                i_lesser    0                                                                                                    
     exec     v21  test against a mode                  MODE_not                    MODE_SOURCE                                                             i_equal     0                                                                                                    
     exec     v21  test against a mode                  MODE_not                    SMOD_SELECT                                                             i_lesser    0                                                                                                    
     exec     v21  test against a mode                  MODE_not                    SMOD_TEXTREG                                                            i_lesser    0                                                                                                    

   COND       v21  push a sub-mode                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.006))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     v21  enter a mode                         MODE_enter                  SMOD_SELECT                                                             i_equal     0                                                                                                    
     exec     v21  check the current mode               MODE_curr                                                                                           i_equal     SMOD_SELECT                                                                                          
     exec     v21  check the previous mode              MODE_prev                                                                                           i_equal     MODE_SOURCE                                                                                          
     get      v21  check current mode stack             MODE__unit                  "stack"                                                                 s_equal     MODE stack       : modes (3) M S s - - - - -                                                         
     exec     v21  test against a mode                  MODE_not                    MODE_MAP                                                                i_lesser    0                                                                                                    
     exec     v21  test against a mode                  MODE_not                    MODE_SOURCE                                                             i_lesser    0                                                                                                    
     exec     v21  test against a mode                  MODE_not                    SMOD_SELECT                                                             i_equal     0                                                                                                    
     exec     v21  test against a mode                  MODE_not                    SMOD_TEXTREG                                                            i_lesser    0                                                                                                    

   COND       v21  push a another sub-mode                                            - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.007))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     v21  enter a mode                         MODE_enter                  SMOD_TEXTREG                                                            i_equal     0                                                                                                    
     exec     v21  check the current mode               MODE_curr                                                                                           i_equal     SMOD_TEXTREG                                                                                         
     exec     v21  check the previous mode (harder)     MODE_prev                                                                                           i_equal     MODE_SOURCE                                                                                          
     get      v21  check current mode stack             MODE__unit                  "stack"                                                                 s_equal     MODE stack       : modes (4) M S s t - - - -                                                         
     exec     v21  test against a mode                  MODE_not                    MODE_MAP                                                                i_lesser    0                                                                                                    
     exec     v21  test against a mode                  MODE_not                    MODE_SOURCE                                                             i_lesser    0                                                                                                    
     exec     v21  test against a mode                  MODE_not                    SMOD_SELECT                                                             i_lesser    0                                                                                                    
     exec     v21  test against a mode                  MODE_not                    SMOD_TEXTREG                                                            i_equal     0                                                                                                    

   COND       v21  try an illegal mode change                                         - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.008))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     v21  enter a mode                         MODE_enter                  MODE_VISUAL                                                             i_lesser    0                                                                                                    
     exec     v21  enter a mode                         MODE_enter                  SMOD_BUFFER                                                             i_lesser    0                                                                                                    

   COND       v21  pop twice                                                          - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.009))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     v21  exit a mode                          MODE_exit                                                                                           i_equal     0                                                                                                    
     exec     v21  exit a mode                          MODE_exit                                                                                           i_equal     0                                                                                                    
     exec     v21  check the current mode               MODE_curr                                                                                           i_equal     MODE_SOURCE                                                                                          
     exec     v21  check the previous mode              MODE_prev                                                                                           i_equal     MODE_MAP                                                                                             
     get      v21  check current mode stack             MODE__unit                  "stack"                                                                 s_equal     MODE stack       : modes (2) M S - - - - - -                                                         
     exec     v21  test against a mode                  MODE_not                    MODE_MAP                                                                i_lesser    0                                                                                                    
     exec     v21  test against a mode                  MODE_not                    MODE_SOURCE                                                             i_equal     0                                                                                                    
     exec     v21  test against a mode                  MODE_not                    SMOD_SELECT                                                             i_lesser    0                                                                                                    
     exec     v21  test against a mode                  MODE_not                    SMOD_TEXTREG                                                            i_lesser    0                                                                                                    

   COND       v21  pop past bottom of stack                                           - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.010))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     v21  exit a mode                          MODE_exit                                                                                           i_equal     0                                                                                                    
     exec     v21  exit a mode                          MODE_exit                                                                                           i_equal     0                                                                                                    
     exec     v21  exit a mode                          MODE_exit                                                                                           i_lesser    0                                                                                                    
     exec     v21  exit a mode                          MODE_exit                                                                                           i_lesser    0                                                                                                    
     exec     v21  check the current mode               MODE_curr                                                                                           i_equal     0                                                                                                    
     exec     v21  check the previous mode              MODE_prev                                                                                           i_lesser    0                                                                                                    
     get      v21  check current mode stack             MODE__unit                  "stack"                                                                 s_equal     MODE stack       : modes (0) - - - - - - - -                                                         
     exec     v21  test against a mode                  MODE_not                    MODE_MAP                                                                i_lesser    0                                                                                                    
     exec     v21  test against a mode                  MODE_not                    MODE_SOURCE                                                             i_lesser    0                                                                                                    
     exec     v21  test against a mode                  MODE_not                    SMOD_SELECT                                                             i_lesser    0                                                                                                    
     exec     v21  test against a mode                  MODE_not                    SMOD_TEXTREG                                                            i_lesser    0                                                                                                    

   COND       v21  verify program teardown                                            - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.011))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     v21  wrap-up the program                  BASE__unit_end                                                                                      i_equal     0                                                                                                    



#23456789-12  123  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  -  123456789-123456789- 
#==(verb)===  ver  ===========(description)===========  =====(function)===========  ========================(arguments)===================================  ==(test)==  ==========================(results)=================================================================  t  ========(var)======= 
SCRP          v21  (MODE  ) verify repeat umode                                       REPEAT_reset, _umode, _decrement, _count                                ((02.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       v21  initialize testing                                                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     v21  setup the program                    BASE__unit_quiet                                                                                    i_equal     0                                                                                                    

   GROUP      v21  start using repeat functions, very simple                          - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       v21  check initial modes                                                - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     v21  check the current mode               MODE_curr                                                                                           i_equal     MODE_MAP                                                                                             
     get      v21  check current mode stack             MODE__unit                  "stack"                                                                 s_equal     MODE stack       : modes (1) M - - - - - - -                                                         
     get      v21  check the repeat value               REPEAT__unit                "count"                                                                 s_equal     REPEAT count     : 0                                                                                 

   COND       v21  get into repeat mode                                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     v21  enter a mode                         MODE_enter                  SMOD_REPEAT                                                             i_equal     0                                                                                                    
     exec     v21  check the current mode               MODE_curr                                                                                           i_equal     SMOD_REPEAT                                                                                          
     get      v21  check current mode stack             MODE__unit                  "stack"                                                                 s_equal     MODE stack       : modes (2) M 9 - - - - - -                                                         
     get      v21  check the repeat value               REPEAT__unit                "count"                                                                 s_equal     REPEAT count     : 0                                                                                 

   COND       v21  process a single digit                                             - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.004))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     v21  call the mode                        REPEAT_umode                ' '            , '2'                                                    i_equal     0                                                                                                    
     exec     v21  check the current mode               MODE_curr                                                                                           i_equal     SMOD_REPEAT                                                                                          
     get      v21  check current mode stack             MODE__unit                  "stack"                                                                 s_equal     MODE stack       : modes (2) M 9 - - - - - -                                                         
     get      v21  check the repeat value               REPEAT__unit                "count"                                                                 s_equal     REPEAT count     : 2                                                                                 

   COND       v21  send an action for repeating                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.005))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     v21  call the mode                        REPEAT_umode                ' '            , 'j'                                                    i_equal     'j'                                                                                                  
     exec     v21  check the current mode               MODE_curr                                                                                           i_equal     MODE_MAP                                                                                             
     get      v21  check current mode stack             MODE__unit                  "stack"                                                                 s_equal     MODE stack       : modes (1) M - - - - - - -                                                         
     get      v21  check the repeat value               REPEAT__unit                "count"                                                                 s_equal     REPEAT count     : 1                                                                                 

   GROUP      v21  use a double digit repeat                                          - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       v21  clear repeat                                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.006))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     v21  zero out repeat                      REPEAT_reset                                                                                        i_equal     0                                                                                                    
     exec     v21  check the current mode               MODE_curr                                                                                           i_equal     MODE_MAP                                                                                             
     get      v21  check current mode stack             MODE__unit                  "stack"                                                                 s_equal     MODE stack       : modes (1) M - - - - - - -                                                         
     get      v21  check the repeat value               REPEAT__unit                "count"                                                                 s_equal     REPEAT count     : 0                                                                                 

   COND       v21  get into repeat mode                                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.007))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     v21  enter a mode                         MODE_enter                  SMOD_REPEAT                                                             i_equal     0                                                                                                    
     exec     v21  check the current mode               MODE_curr                                                                                           i_equal     SMOD_REPEAT                                                                                          
     get      v21  check current mode stack             MODE__unit                  "stack"                                                                 s_equal     MODE stack       : modes (2) M 9 - - - - - -                                                         
     get      v21  check the repeat value               REPEAT__unit                "count"                                                                 s_equal     REPEAT count     : 0                                                                                 

   COND       v21  process the first digit                                            - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.008))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     v21  call the mode                        REPEAT_umode                ' '            , '3'                                                    i_equal     0                                                                                                    
     exec     v21  check the current mode               MODE_curr                                                                                           i_equal     SMOD_REPEAT                                                                                          
     get      v21  check current mode stack             MODE__unit                  "stack"                                                                 s_equal     MODE stack       : modes (2) M 9 - - - - - -                                                         
     get      v21  check the repeat value               REPEAT__unit                "count"                                                                 s_equal     REPEAT count     : 3                                                                                 

   COND       v21  process a second digit                                             - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.009))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     v21  call the mode                        REPEAT_umode                ' '            , '5'                                                    i_equal     0                                                                                                    
     exec     v21  check the current mode               MODE_curr                                                                                           i_equal     SMOD_REPEAT                                                                                          
     get      v21  check current mode stack             MODE__unit                  "stack"                                                                 s_equal     MODE stack       : modes (2) M 9 - - - - - -                                                         
     get      v21  check the repeat value               REPEAT__unit                "count"                                                                 s_equal     REPEAT count     : 35                                                                                

   COND       v21  send an action for repeating                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.010))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     v21  call the mode                        REPEAT_umode                ' '            , 'k'                                                    i_equal     'k'                                                                                                  
     exec     v21  check the current mode               MODE_curr                                                                                           i_equal     MODE_MAP                                                                                             
     get      v21  check current mode stack             MODE__unit                  "stack"                                                                 s_equal     MODE stack       : modes (1) M - - - - - - -                                                         
     get      v21  check the repeat value               REPEAT__unit                "count"                                                                 s_equal     REPEAT count     : 34                                                                                

   GROUP      v21  try three digits                                                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       v21  clear repeat                                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.011))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     v21  zero out repeat                      REPEAT_reset                                                                                        i_equal     0                                                                                                    
     exec     v21  check the current mode               MODE_curr                                                                                           i_equal     MODE_MAP                                                                                             
     get      v21  check current mode stack             MODE__unit                  "stack"                                                                 s_equal     MODE stack       : modes (1) M - - - - - - -                                                         
     get      v21  check the repeat value               REPEAT__unit                "count"                                                                 s_equal     REPEAT count     : 0                                                                                 

   COND       v21  get into repeat mode                                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.012))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     v21  enter a mode                         MODE_enter                  SMOD_REPEAT                                                             i_equal     0                                                                                                    
     exec     v21  check the current mode               MODE_curr                                                                                           i_equal     SMOD_REPEAT                                                                                          
     get      v21  check current mode stack             MODE__unit                  "stack"                                                                 s_equal     MODE stack       : modes (2) M 9 - - - - - -                                                         
     get      v21  check the repeat value               REPEAT__unit                "count"                                                                 s_equal     REPEAT count     : 0                                                                                 

   COND       v21  process the first digit                                            - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.013))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     v21  call the mode                        REPEAT_umode                ' '            , '3'                                                    i_equal     0                                                                                                    
     exec     v21  check the current mode               MODE_curr                                                                                           i_equal     SMOD_REPEAT                                                                                          
     get      v21  check current mode stack             MODE__unit                  "stack"                                                                 s_equal     MODE stack       : modes (2) M 9 - - - - - -                                                         
     get      v21  check the repeat value               REPEAT__unit                "count"                                                                 s_equal     REPEAT count     : 3                                                                                 

   COND       v21  process a second digit                                             - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.014))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     v21  call the mode                        REPEAT_umode                ' '            , '5'                                                    i_equal     0                                                                                                    
     exec     v21  check the current mode               MODE_curr                                                                                           i_equal     SMOD_REPEAT                                                                                          
     get      v21  check current mode stack             MODE__unit                  "stack"                                                                 s_equal     MODE stack       : modes (2) M 9 - - - - - -                                                         
     get      v21  check the repeat value               REPEAT__unit                "count"                                                                 s_equal     REPEAT count     : 35                                                                                

   COND       v21  process a third digit                                              - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.015))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     v21  call the mode                        REPEAT_umode                ' '            , '1'                                                    i_equal     0                                                                                                    
     exec     v21  check the current mode               MODE_curr                                                                                           i_equal     SMOD_REPEAT                                                                                          
     get      v21  check current mode stack             MODE__unit                  "stack"                                                                 s_equal     MODE stack       : modes (2) M 9 - - - - - -                                                         
     get      v21  check the repeat value               REPEAT__unit                "count"                                                                 s_equal     REPEAT count     : 351                                                                               

   COND       v21  send an action for repeating                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.016))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     v21  call the mode                        REPEAT_umode                ' '            , 'w'                                                    i_equal     'w'                                                                                                  
     exec     v21  check the current mode               MODE_curr                                                                                           i_equal     MODE_MAP                                                                                             
     get      v21  check current mode stack             MODE__unit                  "stack"                                                                 s_equal     MODE stack       : modes (1) M - - - - - - -                                                         
     get      v21  check the repeat value               REPEAT__unit                "count"                                                                 s_equal     REPEAT count     : 350                                                                               

   GROUP      v21  escape out                                                         - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       v21  clear repeat                                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.017))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     v21  zero out repeat                      REPEAT_reset                                                                                        i_equal     0                                                                                                    
     exec     v21  check the current mode               MODE_curr                                                                                           i_equal     MODE_MAP                                                                                             
     get      v21  check current mode stack             MODE__unit                  "stack"                                                                 s_equal     MODE stack       : modes (1) M - - - - - - -                                                         
     get      v21  check the repeat value               REPEAT__unit                "count"                                                                 s_equal     REPEAT count     : 0                                                                                 

   COND       v21  get into repeat mode                                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.018))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     v21  enter a mode                         MODE_enter                  SMOD_REPEAT                                                             i_equal     0                                                                                                    
     exec     v21  check the current mode               MODE_curr                                                                                           i_equal     SMOD_REPEAT                                                                                          
     get      v21  check current mode stack             MODE__unit                  "stack"                                                                 s_equal     MODE stack       : modes (2) M 9 - - - - - -                                                         
     get      v21  check the repeat value               REPEAT__unit                "count"                                                                 s_equal     REPEAT count     : 0                                                                                 

   COND       v21  process the first digit                                            - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.019))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     v21  call the mode                        REPEAT_umode                ' '            , '9'                                                    i_equal     0                                                                                                    
     exec     v21  check the current mode               MODE_curr                                                                                           i_equal     SMOD_REPEAT                                                                                          
     get      v21  check current mode stack             MODE__unit                  "stack"                                                                 s_equal     MODE stack       : modes (2) M 9 - - - - - -                                                         
     get      v21  check the repeat value               REPEAT__unit                "count"                                                                 s_equal     REPEAT count     : 9                                                                                 

   COND       v21  now, send an escape                                                - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.020))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     v21  call the mode                        REPEAT_umode                ' '            , '\e'                                                   i_equal     0                                                                                                    
     exec     v21  check the current mode               MODE_curr                                                                                           i_equal     MODE_MAP                                                                                             
     get      v21  check current mode stack             MODE__unit                  "stack"                                                                 s_equal     MODE stack       : modes (1) M - - - - - - -                                                         
     get      v21  check the repeat value               REPEAT__unit                "count"                                                                 s_equal     REPEAT count     : 0                                                                                 

   GROUP      v21  test the defenses                                                  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       v21  clear repeat                                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.021))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     v21  zero out repeat                      REPEAT_reset                                                                                        i_equal     0                                                                                                    
     exec     v21  check the current mode               MODE_curr                                                                                           i_equal     MODE_MAP                                                                                             
     get      v21  check current mode stack             MODE__unit                  "stack"                                                                 s_equal     MODE stack       : modes (1) M - - - - - - -                                                         
     get      v21  check the repeat value               REPEAT__unit                "count"                                                                 s_equal     REPEAT count     : 0                                                                                 

   COND       v21  send a digit in the wrong mode                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.022))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     v21  call the mode                        REPEAT_umode                ' '            , '9'                                                    i_lesser    0                                                                                                    
     exec     v21  check the current mode               MODE_curr                                                                                           i_equal     MODE_MAP                                                                                             
     get      v21  check current mode stack             MODE__unit                  "stack"                                                                 s_equal     MODE stack       : modes (1) M - - - - - - -                                                         
     get      v21  check the repeat value               REPEAT__unit                "count"                                                                 s_equal     REPEAT count     : 0                                                                                 

   GROUP      v21  send an action with no repeat                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       v21  clear repeat                                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.023))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     v21  zero out repeat                      REPEAT_reset                                                                                        i_equal     0                                                                                                    
     exec     v21  check the current mode               MODE_curr                                                                                           i_equal     MODE_MAP                                                                                             
     get      v21  check current mode stack             MODE__unit                  "stack"                                                                 s_equal     MODE stack       : modes (1) M - - - - - - -                                                         
     get      v21  check the repeat value               REPEAT__unit                "count"                                                                 s_equal     REPEAT count     : 0                                                                                 

   COND       v21  get into repeat mode                                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.024))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     v21  enter a mode                         MODE_enter                  SMOD_REPEAT                                                             i_equal     0                                                                                                    
     exec     v21  check the current mode               MODE_curr                                                                                           i_equal     SMOD_REPEAT                                                                                          
     get      v21  check current mode stack             MODE__unit                  "stack"                                                                 s_equal     MODE stack       : modes (2) M 9 - - - - - -                                                         
     get      v21  check the repeat value               REPEAT__unit                "count"                                                                 s_equal     REPEAT count     : 0                                                                                 

   COND       v21  send an action for repeating                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.025))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     v21  call the mode                        REPEAT_umode                ' '            , 'l'                                                    i_equal     'l'                                                                                                  
     exec     v21  check the current mode               MODE_curr                                                                                           i_equal     MODE_MAP                                                                                             
     get      v21  check current mode stack             MODE__unit                  "stack"                                                                 s_equal     MODE stack       : modes (1) M - - - - - - -                                                         
     get      v21  check the repeat value               REPEAT__unit                "count"                                                                 s_equal     REPEAT count     : 0                                                                                 

   GROUP      v21  now run through map mode interface, simple action                  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       v21  clear repeat                                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.026))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     v21  zero out repeat                      REPEAT_reset                                                                                        i_equal     0                                                                                                    
     exec     v21  check the current mode               MODE_curr                                                                                           i_equal     MODE_MAP                                                                                             
     get      v21  check current mode stack             MODE__unit                  "stack"                                                                 s_equal     MODE stack       : modes (1) M - - - - - - -                                                         
     get      v21  check the repeat value               REPEAT__unit                "count"                                                                 s_equal     REPEAT count     : 0                                                                                 

   COND       v21  input a digit                                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.027))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     v21  pass a key                           yVIKEYS_main_input          RUN_TEST       , '9'                                                    i_equal     '9'                                                                                                  
     exec     v21  handle the key                       yVIKEYS_main_handle         '9'                                                                     i_equal     0                                                                                                    
     exec     v21  check the current mode               MODE_curr                                                                                           i_equal     SMOD_REPEAT                                                                                          
     get      v21  check current mode stack             MODE__unit                  "stack"                                                                 s_equal     MODE stack       : modes (2) M 9 - - - - - -                                                         
     get      v21  check the repeat value               REPEAT__unit                "count"                                                                 s_equal     REPEAT count     : 0                                                                                 

   COND       v21  now an action                                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.027))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     v21  pass a key                           yVIKEYS_main_input          RUN_TEST       , 'l'                                                    i_equal     'l'                                                                                                  
     exec     v21  handle the key                       yVIKEYS_main_handle         'l'                                                                     i_equal     0                                                                                                    
     exec     v21  check the current mode               MODE_curr                                                                                           i_equal     MODE_MAP                                                                                             
     get      v21  check current mode stack             MODE__unit                  "stack"                                                                 s_equal     MODE stack       : modes (1) M - - - - - - -                                                         
     get      v21  check the repeat value               REPEAT__unit                "count"                                                                 s_equal     REPEAT count     : 0                                                                                 

   GROUP      v21  now run through map mode interface, combination action             - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       v21  clear repeat                                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.026))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     v21  zero out repeat                      REPEAT_reset                                                                                        i_equal     0                                                                                                    
     exec     v21  check the current mode               MODE_curr                                                                                           i_equal     MODE_MAP                                                                                             
     get      v21  check current mode stack             MODE__unit                  "stack"                                                                 s_equal     MODE stack       : modes (1) M - - - - - - -                                                         
     get      v21  check the repeat value               REPEAT__unit                "count"                                                                 s_equal     REPEAT count     : 0                                                                                 

   COND       v21  input a digit                                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.027))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     v21  pass a key                           yVIKEYS_main_input          RUN_TEST       , '9'                                                    i_equal     '9'                                                                                                  
     exec     v21  handle the key                       yVIKEYS_main_handle         '9'                                                                     i_equal     0                                                                                                    
     exec     v21  check the current mode               MODE_curr                                                                                           i_equal     SMOD_REPEAT                                                                                          
     get      v21  check current mode stack             MODE__unit                  "stack"                                                                 s_equal     MODE stack       : modes (2) M 9 - - - - - -                                                         
     get      v21  check the repeat value               REPEAT__unit                "count"                                                                 s_equal     REPEAT count     : 0                                                                                 

   COND       v21  now an action                                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.027))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     v21  pass a key                           yVIKEYS_main_input          RUN_TEST       , 'g'                                                    i_equal     'g'                                                                                                  
     exec     v21  handle the key                       yVIKEYS_main_handle         'g'                                                                     i_equal     0                                                                                                    
     exec     v21  check the current mode               MODE_curr                                                                                           i_equal     MODE_MAP                                                                                             
     get      v21  check current mode stack             MODE__unit                  "stack"                                                                 s_equal     MODE stack       : modes (1) M - - - - - - -                                                         
     get      v21  check the repeat value               REPEAT__unit                "count"                                                                 s_equal     REPEAT count     : 8                                                                                 

   COND       v21  and, complete action                                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.027))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     v21  pass a key                           yVIKEYS_main_input          RUN_TEST       , 'k'                                                    i_equal     'k'                                                                                                  
     exec     v21  handle the key                       yVIKEYS_main_handle         'k'                                                                     i_equal     0                                                                                                    
     exec     v21  check the current mode               MODE_curr                                                                                           i_equal     MODE_MAP                                                                                             
     get      v21  check current mode stack             MODE__unit                  "stack"                                                                 s_equal     MODE stack       : modes (1) M - - - - - - -                                                         
     get      v21  check the repeat value               REPEAT__unit                "count"                                                                 s_equal     REPEAT count     : 0                                                                                 

   GROUP      v21  complete                                                           - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       v21  verify program teardown                                            - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.028))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     v21  wrap-up the program                  BASE__unit_end                                                                                      i_equal     0                                                                                                    



# end-of-file
